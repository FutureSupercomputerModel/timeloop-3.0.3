InputWeightBuffer size (KB): 256
InputWeight Precision: 8
InputWeightBuffer Max Elements: 262144.0
Layer 12 weight size: 2359296
[]
Layer 11 weight size: 2359296
[[14, 14, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
Layer 10 weight size: 2359296
[[14, 14, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
Layer 9 weight size: 2359296
[[14, 14, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
Layer 8 weight size: 2359296
[[28, 28, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
Layer 7 weight size: 1179648
[[28, 28, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
Layer 6 weight size: 589824
[[28, 28, 256, 1, 512, 3, 3, 1, 1, 1, 1]]
Layer 5 weight size: 589824
[[56, 56, 256, 1, 256, 3, 3, 1, 1, 1, 1]]
Layer 4 weight size: 294912
[[56, 56, 256, 1, 256, 3, 3, 1, 1, 1, 1]]
Layer 3 weight size: 147456
[[56, 56, 128, 1, 256, 3, 3, 1, 1, 1, 1]]
Layer 2 weight size: 73728
Layer 1 weight size: 36864
Layer 0 weight size: 1728
Fused groups: 
[[7, 7, 3, 12544, 64, 3, 3, 0, 0, 1, 1], [5, 5, 64, 12544, 64, 3, 3, 0, 0, 1, 1], [3, 3, 64, 12544, 128, 3, 3, 0, 0, 1, 1], [1, 1, 128, 12544, 128, 3, 3, 0, 0, 1, 1]]
[[56, 56, 128, 1, 256, 3, 3, 1, 1, 1, 1]]
[[56, 56, 256, 1, 256, 3, 3, 1, 1, 1, 1]]
[[56, 56, 256, 1, 256, 3, 3, 1, 1, 1, 1]]
[[28, 28, 256, 1, 512, 3, 3, 1, 1, 1, 1]]
[[28, 28, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
[[28, 28, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
[[14, 14, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
[[14, 14, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
[[14, 14, 512, 1, 512, 3, 3, 1, 1, 1, 1]]
input_tile_count:  12544
Preparing to run timeloop for problem index  0
Workload Dimensions:
  W        = 7
  H        = 7
  C        = 3
  K        = 64
  S        = 3
  R        = 3
  P        = 5
  Q        = 5
  N        = 1
  W-pad    = 0
  H-pad    = 0
  W-stride = 1
  H-stride = 1

Running timeloop to get mapping
Time to run timeloop =  0.14516790300000082
Run successful, see log for text stats, or use the Python parser to parse the XML stats.
Stats from run:
{'cycles': 43200,
 'energy_breakdown_pJ': {'GlobalBuffer': {'accesses_per_instance': array([43200, 43200,  1600]),
                                          'address_generation_energy': 0.0,
                                          'dist_multicast': array([0, 0, 0]),
                                          'energy': 56645909.54773869,
                                          'energy_per_access_per_instance': array([643.70351759, 643.70351759, 643.70351759]),
                                          'energy_per_hop_per_instance': array([0., 0., 0.]),
                                          'fills_per_instance': array([0, 0, 0]),
                                          'ingresses': 0,
                                          'instances': array([1., 1., 1.]),
                                          'multicast': array([1, 1, 1]),
                                          'network_energy': 0.0,
                                          'num_hops': array([0., 0., 0.]),
                                          'read_energy': 55615983.91959799,
                                          'reads_per_instance': array([43200, 43200,     0]),
                                          'spatial_add_energy': 0.0,
                                          'storage_access_energy': 56645909.54773869,
                                          'temporal_add_energy': 0.0,
                                          'updates_per_instance': array([   0,    0, 1600]),
                                          'utilization': 0.00013256072998046875},
                         'MAC': {'energy': 10800.0, 'utilization': 1.0},
                         'RegisterFile': {'accesses_per_instance': array([    0,     0, 84800]),
                                          'address_generation_energy': 0.0,
                                          'dist_multicast': array([0, 0, 0]),
                                          'energy': 41467.8391959799,
                                          'energy_per_access_per_instance': array([       nan,        nan, 0.48900754]),
                                          'energy_per_hop_per_instance': array([0., 0., 0.]),
                                          'fills_per_instance': array([0, 0, 0]),
                                          'ingresses': 0,
                                          'instances': array([1., 1., 1.]),
                                          'multicast': array([1, 1, 1]),
                                          'network_energy': 0.0,
                                          'num_hops': array([0., 0., 0.]),
                                          'read_energy': 20342.713567839193,
                                          'reads_per_instance': array([    0,     0, 41600]),
                                          'spatial_add_energy': 0.0,
                                          'storage_access_energy': 41467.8391959799,
                                          'temporal_add_energy': 0.0,
                                          'updates_per_instance': array([    0,     0, 43200]),
                                          'utilization': 1.0}},
 'energy_pJ': 56698177.386934675,
 'energy_per_mac': 1312.4578098827471,
 'macs': 43200,
 'problem': [3, 3, 5, 5, 3, 64, 1],
 'utilization': 1.0}
problem cycles:  541900800
input_tile_count:  12544
Preparing to run timeloop for problem index  0
Workload Dimensions:
  W        = 5
  H        = 5
  C        = 64
  K        = 64
  S        = 3
  R        = 3
  P        = 3
  Q        = 3
  N        = 1
  W-pad    = 0
  H-pad    = 0
  W-stride = 1
  H-stride = 1

Running timeloop to get mapping
Time to run timeloop =  0.1265625709999938
Run successful, see log for text stats, or use the Python parser to parse the XML stats.
Stats from run:
{'cycles': 331776,
 'energy_breakdown_pJ': {'GlobalBuffer': {'accesses_per_instance': array([331776, 331776,    576]),
                                          'address_generation_energy': 0.0,
                                          'dist_multicast': array([0, 0, 0]),
                                          'energy': 427501529.72864324,
                                          'energy_per_access_per_instance': array([643.70351759, 643.70351759, 643.70351759]),
                                          'energy_per_hop_per_instance': array([0., 0., 0.]),
                                          'fills_per_instance': array([0, 0, 0]),
                                          'ingresses': 0,
                                          'instances': array([1., 1., 1.]),
                                          'multicast': array([1, 1, 1]),
                                          'network_energy': 0.0,
                                          'num_hops': array([0., 0., 0.]),
                                          'read_energy': 427130756.5025126,
                                          'reads_per_instance': array([331776, 331776,      0]),
                                          'spatial_add_energy': 0.0,
                                          'storage_access_energy': 427501529.72864324,
                                          'temporal_add_energy': 0.0,
                                          'updates_per_instance': array([  0,   0, 576]),
                                          'utilization': 0.0014892578125},
                         'MAC': {'energy': 82944.0, 'utilization': 1.0},
                         'RegisterFile': {'accesses_per_instance': array([     0,      0, 662976]),
                                          'address_generation_energy': 0.0,
                                          'dist_multicast': array([0, 0, 0]),
                                          'energy': 324200.26130653266,
                                          'energy_per_access_per_instance': array([       nan,        nan, 0.48900754]),
                                          'energy_per_hop_per_instance': array([0., 0., 0.]),
                                          'fills_per_instance': array([0, 0, 0]),
                                          'ingresses': 0,
                                          'instances': array([1., 1., 1.]),
                                          'multicast': array([1, 1, 1]),
                                          input file: run_fusion/problem_3/sample-hierarchy-no-dram.yaml
  _______                __                
 /_  __(_)___ ___  ___  / /___  ____  ____ 
  / / / / __ `__ \/ _ \/ / __ \/ __ \/ __ \
 / / / / / / / / /  __/ / /_/ / /_/ / /_/ /
/_/ /_/_/ /_/ /_/\___/_/\____/\____/ .___/ 
                                  /_/      

MESSAGE: attempting to read problem shape from file: /home/siyuan/timeloop-3.0.3/problem-shapes/cnn-layer.yaml
Problem configuration complete.
Architecture configuration complete.
Sparse optimization configuration complete.
Using all available hardware threads = 16
Mapper configuration complete.
Initializing Index Factorization subspace.
  Factorization options along problem dimension R = 2
  Factorization options along problem dimension S = 2
  Factorization options along problem dimension P = 46
  Factorization options along problem dimension Q = 46
  Factorization options along problem dimension C = 8
  Factorization options along problem dimension K = 8
  Factorization options along problem dimension N = 1
Mapspace Dimension [IndexFactorization] Size: 541696
Mapspace Dimension [LoopPermutation] Size: 5040
Mapspace Dimension [Spatial] Size: 1
Mapspace Dimension [DatatypeBypass] Size: 8
Mapspace split! Per-split Mapping Dimension [IndexFactorization] Size: 33856 Residue: 0
Mapspace construction complete.
Search configuration complete.
[  2] Utilization = 1.00 | pJ/Compute = 2574.505 | L1[WIO] S3 - L0[] K128 C128 R3 
[  0] Utilization = 1.00 | pJ/Compute = 2574.505 | L1[WIO] N1 - L0[] K128 C128 S3 R3 
[  3] Utilization = 1.00 | pJ/Compute = 2574.505 | L1[WIO] S3 R3 - L0[] K128 C128 
[  1] Utilization = 1.00 | pJ/Compute = 2574.505 | L1[WIO] R3 - L0[] K128 C128 S3 
timeloop-mapper: src/loop-analysis/tiling.cpp:637: void tiling::ComputeReadUpdateReductionAccesses_Legacy(std::vector<tiling::DataMovementInfo>&, problem::Shape::DataSpaceID): Assertion `(tile_nest[cur].content_accesses + tile_nest[cur].peer_accesses) >= tile_nest[cur].partition_size' failed.
timeloop-mapper: src/loop-analysis/tiling.cpp:637: void tiling::ComputeReadUpdateReductionAccesses_Legacy(std::vector<tiling::DataMovementInfo>&, problem::Shape::DataSpaceID): Assertion `(tile_nest[cur].content_accesses + tile_nest[cur].peer_accesses) >= tile_nest[cur].partition_size' failed.
timeloop-mapper: src/loop-analysis/tiling.cpp:637: void tiling::ComputeReadUpdateReductionAccesses_Legacy(std::vector<tiling::DataMovementInfo>&, problem::Shape::DataSpaceID): Assertion `(tile_nest[cur].content_accesses + tile_nest[cur].peer_accesses) >= tile_nest[cur].partition_size' failed.
'network_energy': 0.0,
                                          'num_hops': array([0., 0., 0.]),
                                          'read_energy': 161959.29648241206,
                                          'reads_per_instance': array([     0,      0, 331200]),
                                          'spatial_add_energy': 0.0,
                                          'storage_access_energy': 324200.26130653266,
                                          'temporal_add_energy': 0.0,
                                          'updates_per_instance': array([     0,      0, 331776]),
                                          'utilization': 1.0}},
 'energy_pJ': 427908673.98994976,
 'energy_per_mac': 1289.7517421089824,
 'macs': 331776,
 'problem': [3, 3, 3, 3, 64, 64, 1],
 'utilization': 1.0}
problem cycles:  4161798144
input_tile_count:  12544
Preparing to run timeloop for problem index  0
Workload Dimensions:
  W        = 3
  H        = 3
  C        = 64
  K        = 128
  S        = 3
  R        = 3
  P        = 1
  Q        = 1
  N        = 1
  W-pad    = 0
  H-pad    = 0
  W-stride = 1
  H-stride = 1

Running timeloop to get mapping
Time to run timeloop =  0.10554337499999633
Run successful, see log for text stats, or use the Python parser to parse the XML stats.
Stats from run:
{'cycles': 73728,
 'energy_breakdown_pJ': {'GlobalBuffer': {'accesses_per_instance': array([ 73728,    576, 147328]),
                                          'address_generation_energy': 0.0,
                                          'dist_multicast': array([0, 0, 0]),
                                          'energy': 142665298.01005027,
                                          'energy_per_access_per_instance': array([643.70351759, 643.70351759, 643.70351759]),
                                          'energy_per_hop_per_instance': array([0., 0., 0.]),
                                          'fills_per_instance': array([0, 0, 0]),
                                          'ingresses': 0,
                                          'instances': array([1., 1., 1.]),
                                          'multicast': array([1, 1, 1]),
                                          'network_energy': 0.0,
                                          'num_hops': array([0., 0., 0.]),
                                          'read_energy': 95206325.06532663,
                                          'reads_per_instance': array([73728,   576, 73600]),
                                          'spatial_add_energy': 0.0,
                                          'storage_access_energy': 142665298.01005027,
                                          'temporal_add_energy': 0.0,
                                          'updates_per_instance': array([    0,     0, 73728]),
                                          'utilization': 0.0028393554687499998},
                         'MAC': {'energy': 18432.0, 'utilization': 1.0},
                         'RegisterFile': {'accesses_per_instance': array([    0, 74304,     0]),
                                          'address_generation_energy': 0.0,
                                          'dist_multicast': array([0, 0, 0]),
                                          'energy': 36335.21608040201,
                                          'energy_per_access_per_instance': array([       nan, 0.48900754,        nan]),
                                          'energy_per_hop_per_instance': array([0., 0., 0.]),
                                          'fills_per_instance': array([  0, 576,   0]),
                                          'ingresses': 0,
                                          'instances': array([1., 1., 1.]),
                                          'multicast': array([1, 1, 1]),
                                          'network_energy': 0.0,
                                          'num_hops': array([0., 0., 0.]),
                                          'read_energy': 36053.547738693465,
                                          'reads_per_instance': array([    0, 73728,     0]),
                                          'spatial_add_energy': 0.0,
                                          'storage_access_energy': 36335.21608040201,
                                          'temporal_add_energy': 0.0,
                                          'updates_per_instance': array([0, 0, 0]),
                                          'utilization': 1.0}},
 'energy_pJ': 142720065.22613066,
 'energy_per_mac': 1935.764773574906,
 'macs': 73728,
 'problem': [3, 3, 1, 1, 64, 128, 1],
 'utilization': 1.0}
problem cycles:  924844032
input_tile_count:  12544
Preparing to run timeloop for problem index  0
Workload Dimensions:
  W        = 1
  H        = 1
  C        = 128
  K        = 128
  S        = 3
  R        = 3
  P        = -1
  Q        = -1
  N        = 1
  W-pad    = 0
  H-pad    = 0
  W-stride = 1
  H-stride = 1

Running timeloop to get mapping
Did you remember to build timeloop and set up your environment properly?
